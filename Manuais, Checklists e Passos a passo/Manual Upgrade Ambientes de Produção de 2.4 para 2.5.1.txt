Manual Upgrade dos Ambientes de Produção de 2.4 para 2.5.1
==========================================================

1. Fazer exatamente na seguinte sequência:
   (i)   Em todos os casos exceto JR Distribuição / Windows 10:
         Verificar se o arquivo .bat e o .jar atual estão em uso: 
         verificar o horário da última e da próxima execução no Task Scheduler 
         e verificar no taskmgr.exe se o JRE está rodando ainda. 
         Esperar até o JRE terminou.
   
   (ii)  Em todos os casos (incluindo no caso JR Distribuição / Windows 10):
 		   - Adicionar "exit" seguida por uma linha em branco no início do arquivo 
 		     Job15a15minOfertamentoJava_Windows.bat no servidor do fornecedor. 
 		     (NÃO renomear Job15a15minOfertamentoJava_Windows.bat para evitar que o Scheduler 
              possivelmente se perde comprometendo os derrubamentos automáticos dos JRE´s travados)

   (iii) Apenas no caso de instalação no servidor da JR Distribuição (Windows 10):
	        a. Primeiro verificar no diretório C:\ProgramData\PortalCronos\Logs\Local\ 
	           se o Integrador está ofertando no momento e ficar esperando até ele terminar 
	           o último passo (a atualização do arquivo TemposExecução.log)
 
		    b. Matar o processo JRE 1.8.0_92
		 		 
		   
2. Copiar o arquivo novo integr-fornecedor-2.5.1.jar do instalador para o servidor do fornecedor
   Apagar a versão anterior.
 
3. Atualizar as chamadas de integr-fornecedor-2.5.1.jar dentro do arquivo Job15a15minOfertamentoJava_Windows.bat 
   no servidor do fornecedor (2 ou 3 lugares).
 

4. No arquivo /conf/Integração Fornecedor - Portal Cronos.properties adicionar na seção WinThor, 
   depois da chave UsarValorMinimoSistemaFornecedor:
   
   a. No caso da Prolac: 
CodigoFilial                      = 3

   b. No caso dos outros fornecedores: 
CodigoFilial                      = 1


5. Copiar os arquivos /lib/annotations-15.0.jar e /lib/mslinks-1.0.4.jar do instalador 
   para o servidor do fornecedor (dir /lib/).

6. Copiar do instalador para o servidor do fornecedor: 
     - /Arquivos de Programas PC/Desinstalação_Versão_Windows.bat (copiar por cima do atual)
     - /Arquivos de Programas PC/DesinstalarManualTI.bat
     - /Arquivos de Programas PC/InstalarManualTI.bat
     - /Arquivos de Programas PC/TestadorUnitarioInstalacaoDesinstalacao.bat
     - /Arquivos de Programas PC/Integração Fornecedor - Portal Cronos/TestadorUnitario.bat

7. a. Dentro do arquivo "TestadorUnitarioInstalacaoDesinstalacao.bat" descomentar
      "REM goto InstalarManualTI" 
      e comentar todos os outros goto´s
       
   b. Executar "TestadorUnitarioInstalacaoDesinstalacao.bat" como Administrador
    
   c. Testar se o arquivo do manual foi gerado corretamente
    
   d. Testar se os eventuais atalhos foram criados no menu de Windows


8. Apagar o instalador no diretório C:\temp\ no servidor do fornecedor.
 
9. No final do upgrade, apagar os seguintes arquivos no diretório C:\Arquivos de Programas PC\ no servidor do fornecedor:
		- InstalarManualTI.bat
		- TestadorUnitarioInstalacaoDesinstalacao.bat
		- Primeira_Instalacao_Versao_Windows.bat
		- *.reg
		- *.xml
		- *.exe
 
10. Apagar /Arquivos de Programas PC/Integração Fornecedor - Portal Cronos/Instalador.log no servidor do fornecedor
  
11. Remover "exit" e a linha em branco no início do arquivo Job15a15minOfertamentoJava_Windows.bat
   no servidor do fornecedor
   
